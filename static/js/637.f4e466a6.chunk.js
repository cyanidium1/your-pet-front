"use strict";(self.webpackChunkyour_pet_front=self.webpackChunkyour_pet_front||[]).push([[637],{6615:function(e,s,a){a.d(s,{Z:function(){return B}});var r=a(4165),n=a(5861),t=a(9439),o=a(2791),i=a(7689),c=a(1087),l=a(5705),m=a(6727),u=a(9e3),d=a(3439),h="AuthForm_form_heading__RVRf1",p="AuthForm_auth_section__TF+-M",_="AuthForm_svg_sizing__UthJ9",x="AuthForm_eye_button_positioning__6+3Ey",f="AuthForm_form_group__26z7T",v="AuthForm_auth_page__3TMmS",w="AuthForm_auth_input__hoBSu",j="AuthForm_red_outline__ggYwm",N="AuthForm_green_outline__+mDvc",g="AuthForm_navtext__aFNSs",Z="AuthForm_auth_form__VAg3V",k="AuthForm_auth_submit_button__E93ut",y="AuthForm_end_auth_form__uu2mZ",A="AuthForm_end_auth_form_login__rXPrk",b="AuthForm_message__Le5UP",F="AuthForm_positive__DUuVt",P="AuthForm_negative__oBBmx",q=a(9337),E=a(5822),C=a(9874),R=a(4289),S=a(3541),H=a(184),B=function(){var e=(0,i.TH)(),s=(0,q.I0)(),a=(0,i.s0)(),B=(0,c.lr)(),L=(0,t.Z)(B,2),z=L[0],V=L[1],O=(0,q.v9)(R.dy),T=(0,o.useState)(!1),U=(0,t.Z)(T,2),D=U[0],I=U[1],J=(0,o.useState)(!1),M=(0,t.Z)(J,2),$=M[0],G=M[1],X=(0,o.useState)(!1),Y=(0,t.Z)(X,2),K=Y[0],Q=Y[1];(0,o.useEffect)((function(){var s="/login"===e.pathname;I(s)}),[e]);var W=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s((0,E.x4)({email:n.email,password:n.password}));case 2:return e.next=4,s((0,E.Ec)()).then((function(){return a("/profile")}));case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}(),ee=z.get("token")||null;return(0,o.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ee){e.next=5;break}return e.next=3,s((0,S.Z6)({token:ee}));case 3:return e.next=5,s((0,E.Ec)());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[ee,s,V]),(0,o.useEffect)((function(){O&&a("/profile")}),[O,a]),(0,H.jsx)("section",{className:"".concat(v),children:(0,H.jsxs)("div",{className:p,children:[(0,H.jsx)("h1",{className:h,children:D?"Login":"Registration"}),(0,H.jsx)(l.J9,{initialValues:{email:"",name:"",password:"",confirm_password:""},validationSchema:D?m.Ry().shape({email:m.Z_().email("Invalid email address").required("Email is required"),password:m.Z_().min(6,"Password must be at least 6 characters").max(16,"Password must be at most 16 characters").matches(/^(?=.*[a-z])(?=.*[A-Z]).{6,16}$/,"Password must contain at least one uppercase letter, one lowercase letter, and one digit").required("Password is required")}):m.Ry().shape({name:m.Z_().min(2,"Name must be at least 2 characters").max(16,"Name must be at most 16 characters").required("Name is required"),email:m.Z_().email("Invalid email address").required("Email is required"),password:m.Z_().min(6,"Password must be at least 6 characters").max(16,"Password must be at most 16 characters").matches(/^(?=.*[a-z])(?=.*[A-Z]).{6,16}$/,"Password must contain at least one uppercase letter, one lowercase letter, and one digit").required("Password is required"),confirm_password:m.Z_().oneOf([m.iH("password"),null],"Passwords must match").required("Confirm Password is required")}),onSubmit:function(e){console.log("Form values:",e),D?W(e):function(e){s((0,E.z2)({email:e.email,password:e.password,name:e.name})),s((0,C.US)()),s((0,E.Ec)())}(e)},children:function(e){return(0,H.jsxs)(l.l0,{className:Z,children:[!D&&(0,H.jsxs)("div",{className:f,children:[(0,H.jsx)(l.gN,{type:"text",name:"name",placeholder:"Name",className:"".concat(w," ").concat(e.touched.name&&e.errors.name?j:e.values.name&&!e.errors.name?N:null)}),(0,H.jsx)("div",{className:x,children:(0,H.jsx)("span",{children:(0,H.jsx)("svg",{className:_,width:"24",height:"24",children:(0,H.jsx)("use",{xlinkHref:e.errors.name&&e.values.name?d.Z+"#icon-crossauth":e.values.name?d.Z+"#icon-tickauth":""})})})}),(0,H.jsxs)("div",{className:b,children:[!e.errors.name&&e.values.name&&(0,H.jsx)("div",{className:F,children:"Name is valid"}),(0,H.jsx)(l.Bc,{name:"name",component:"div",className:P})]})]}),(0,H.jsxs)("div",{className:f,children:[(0,H.jsx)(l.gN,{type:"email",name:"email",autoComplete:"email",placeholder:"Email",className:"".concat(w," ").concat(e.touched.email&&e.errors.email?j:e.values.email&&!e.errors.email?N:null)}),(0,H.jsx)("div",{className:x,children:(0,H.jsx)("span",{children:(0,H.jsx)("svg",{className:_,width:"24",height:"24",children:(0,H.jsx)("use",{xlinkHref:e.errors.email&&e.values.email?d.Z+"#icon-crossauth":e.values.email?d.Z+"#icon-tickauth":""})})})}),(0,H.jsxs)("div",{className:b,children:[!e.errors.email&&e.values.email&&(0,H.jsx)("div",{className:F,children:"Email is valid"}),(0,H.jsx)(l.Bc,{name:"email",component:"div",className:P})]})]}),(0,H.jsxs)("div",{className:f,children:[(0,H.jsx)(l.gN,{type:$?"text":"password",name:"password",placeholder:"Password",autoComplete:D?"off":"new-password",className:"".concat(w," ").concat(e.touched.password&&e.errors.password?j:e.values.password&&!e.errors.password?N:null)}),(0,H.jsxs)("div",{className:x,children:[(0,H.jsx)("span",{children:(0,H.jsx)("svg",{className:_,width:"24",height:"24",children:(0,H.jsx)("use",{xlinkHref:e.errors.password&&e.values.password?d.Z+"#icon-crossauth":e.values.password?d.Z+"#icon-tickauth":""})})}),(0,H.jsx)("button",{type:"button",onClick:function(){return G(!$)},children:(0,H.jsx)("svg",{className:_,children:(0,H.jsx)("use",{xlinkHref:$?d.Z+"#icon-eye-open":d.Z+"#icon-eye-closed"})})})]}),(0,H.jsxs)("div",{className:b,children:[!e.errors.password&&e.values.password&&(0,H.jsx)("div",{className:F,children:"Password is secure"}),(0,H.jsx)(l.Bc,{name:"password",component:"div",className:P})]})]}),!D&&(0,H.jsxs)("div",{className:f,children:[(0,H.jsx)(l.gN,{type:K?"text":"password",name:"confirm_password",placeholder:"Confirm password",autoComplete:"new-password",className:"".concat(w," ").concat(e.touched.confirm_password&&e.errors.confirm_password?j:e.values.confirm_password&&!e.errors.confirm_password?N:null)}),(0,H.jsxs)("div",{className:x,children:[(0,H.jsx)("span",{children:(0,H.jsx)("svg",{className:_,width:"24",height:"24",children:(0,H.jsx)("use",{xlinkHref:e.errors.confirm_password&&e.values.confirm_password?d.Z+"#icon-crossauth":e.values.confirm_password?d.Z+"#icon-tickauth":""})})}),(0,H.jsx)("button",{type:"button",onClick:function(){return Q(!K)},children:(0,H.jsx)("svg",{className:_,children:(0,H.jsx)("use",{xlinkHref:K?d.Z+"#icon-eye-open":d.Z+"#icon-eye-closed"})})})]}),(0,H.jsxs)("div",{className:b,children:[!e.errors.confirm_password&&e.values.confirm_password&&(0,H.jsx)("div",{className:F,children:"Passwords are matching"}),(0,H.jsx)(l.Bc,{name:"confirm_password",component:"div",className:P})]})]}),(0,H.jsxs)("div",{className:D?"".concat(y," ").concat(A):"".concat(y),children:[(0,H.jsx)("button",{className:k,type:"submit",children:D?"Login":"Register"}),(0,H.jsx)("span",{children:"OR"}),(0,H.jsxs)("a",{className:k,href:"https://your-pet-backend-nci6.onrender.com/api/users/google",children:[(0,H.jsx)(u.JM8,{}),D?"Login ":"Register ","with Google"]}),D?(0,H.jsxs)("p",{className:g,children:["Don't have an account?"," ",(0,H.jsx)(c.OL,{to:"/register",children:"Register"})]}):(0,H.jsxs)("p",{className:g,children:["Already have an account ",(0,H.jsx)(c.OL,{to:"/login",children:"Login"})]})]})]})}})]})})}},3637:function(e,s,a){a.r(s);a(2791);var r=a(6615),n=a(184);s.default=function(){return(0,n.jsx)(r.Z,{})}}}]);
//# sourceMappingURL=637.f4e466a6.chunk.js.map